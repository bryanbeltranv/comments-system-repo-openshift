# Configuración global
global:
  namespace: comments-system
  dockerRegistry: docker.io
  dockerUser: bryanbeltranv

# Imágenes
images:
  frontend:
    repository: bryanbeltranv/frontend
    tag: latest
    pullPolicy: Always
  backendApi:
    repository: bryanbeltranv/backend-api
    tag: latest
    pullPolicy: Always
  backendData:
    repository: bryanbeltranv/backend-data
    tag: latest
    pullPolicy: Always
  database:
    repository: postgres
    tag: "15-alpine"
    pullPolicy: IfNotPresent

# Recursos mínimos para cada componente
resources:
  frontend:
    requests:
      memory: "64Mi"
      cpu: "50m"
    limits:
      memory: "128Mi"
      cpu: "100m"
  backendApi:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "200m"
  backendData:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "200m"
  database:
    requests:
      memory: "256Mi"
      cpu: "100m"
    limits:
      memory: "512Mi"
      cpu: "200m"

# Réplicas
replicas:
  frontend: 2
  backendApi: 2
  backendData: 2
  database: 1

# HPA (Horizontal Pod Autoscaler)
hpa:
  backendApi:
    enabled: true
    minReplicas: 2
    maxReplicas: 5
    targetCPUUtilizationPercentage: 70
  backendData:
    enabled: true
    minReplicas: 2
    maxReplicas: 5
    targetCPUUtilizationPercentage: 70

# PostgreSQL
postgresql:
  database: comments_db
  username: postgres
  password: postgres123
  port: 5432
  storage: 1Gi
  storageClass: ""  # Usar el StorageClass por defecto del cluster

# Puertos
ports:
  frontend: 8080
  backendApi: 8080
  backendData: 8081
  database: 5432

# Route (OpenShift)
route:
  enabled: true
  host: ""  # Se generará automáticamente si está vacío
  tls:
    enabled: true
    termination: edge
    insecureEdgeTerminationPolicy: Redirect

# NetworkPolicies
networkPolicies:
  enabled: true
  denyAll: true

# Labels comunes
labels:
  app: comments-system
  managed-by: helm